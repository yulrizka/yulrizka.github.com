<!DOCTYPE html>
<html lang="en">
<head>
	<meta name="generator" content="Hugo 0.68.3" />

<title>Dev Blogs of Ahmy Yulrizka - labs.yulrizka.com</title>
<meta name="description" content="Blog of Ahmy Yulrizka and stuff that I learned everyday">


<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">


<meta name="author" content="Ahmy Yulrizka">
<link rel="canonical" href="https://labs.yulrizka.com/">





 
<link rel="stylesheet" href="https://labs.yulrizka.com/css/default.min.dc2e649e33be45986ac30a89c008a6a194e1b0dc19451a314c324ff26a500dcb.css" media="screen, projection" type="text/css">




<link href='https://fonts.googleapis.com/css?family=Slackey' rel='stylesheet' type='text/css'>



</head>
<body>
<div id="container" class="sidebar-right">
  <div class="container-fluid" id="main">
    <div class="row-fluid">
      <div id="content-wrapper" class="span9 ">
        <div class="content">


<article>
  <a href="https://labs.yulrizka.com/til/go/default-math.rand.source-is-thread-save-while-rand.newsource-is-not/">
    <h2>
      Default math.rand.Source is thread save while rand.New(Source) is not
    </h2>
  </a>
  <div class="posted_at">
    2016-03-13 ::
    ( 1 minutes reading )
  </div>

  <p>Default pacakge rand uses Source that is thread safe with default seed <code>1</code></p>
<p>we can use the pacakge&rsquo;s method to have thread safe random number generation</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-go" data-lang="go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
  <span class="s">&#34;fmt&#34;</span>
  <span class="s">&#34;math/rand&#34;</span>
  <span class="s">&#34;time&#34;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">seed</span> <span class="o">:=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Now</span><span class="p">().</span><span class="nf">UnixNano</span><span class="p">()</span>
  <span class="nx">rand</span><span class="p">.</span><span class="nf">Seed</span><span class="p">(</span><span class="nx">seed</span><span class="p">)</span>
  <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span class="nf">Int63</span><span class="p">())</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>But the <code>rand.NewSource()</code> offers thread unsafe implementation.
One of the reason to choose the unsafe implementation to avoid
synchronization, especially when you have only single go routine.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-go" data-lang="go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
  <span class="s">&#34;fmt&#34;</span>
  <span class="s">&#34;math/rand&#34;</span>
  <span class="s">&#34;time&#34;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">seed</span> <span class="o">:=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Now</span><span class="p">().</span><span class="nf">UnixNano</span><span class="p">()</span>
  <span class="nx">r</span> <span class="o">:=</span> <span class="nx">rand</span><span class="p">.</span><span class="nf">New</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span class="nf">NewSource</span><span class="p">(</span><span class="nx">seed</span><span class="p">))</span>
  <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nf">Int63</span><span class="p">())</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div>
</article>
<hr/>

<article>
  <a href="https://labs.yulrizka.com/til/linux/removing-old-kernel/">
    <h2>
      Removing old kernel
    </h2>
  </a>
  <div class="posted_at">
    2016-03-12 ::
    ( 2 minutes reading )
  </div>

  <p>When upgrading ubuntu, sometimes it failed because of insufficient disk on boot.
This could be caused by too many kernel installed on the machine.</p>
<p>Command to remove old kernel from <a href="http://askubuntu.com/questions/2793/how-do-i-remove-old-kernel-versions-to-clean-up-the-boot-menu">here</a></p>
<pre><code>dpkg --list | grep linux-image | awk '{ print $2 }' | sort -V | sed -n '/'`uname -r`'/q;p' | xargs sudo apt-get -y purge
</code></pre><p>dpkg &ndash;list | grep linux-image | awk &lsquo;{ print $2 }&rsquo; | sort -V | sed -n &lsquo;/&lsquo;<code>uname -r</code>&rsquo;/q;p&rsquo; | xargs sudo apt-get -y purgenation (remember, <code>|</code> uses the output of the previous command as the input to the next)</p>
<ul>
<li><code>dpkg --list</code> lists all installed packages</li>
<li><code>grep linux-image</code> looks for the installed linux images</li>
<li><code>awk '{ print $2 }'</code> just outputs the 2nd column (which is the package name)</li>
<li><code>sort -V</code> puts the items in order by version number</li>
<li><code>sed -n '/'`uname -r`'/q;p'</code> prints the lines before the current kernel</li>
<li><code>xargs sudo apt-get -y purge</code> purges the found kernels</li>
</ul>
<p>Unwinding the <code>sed</code> invocation:</p>
<ul>
<li><code>-n</code> tells <code>sed</code> to be quiet</li>
<li><code>`uname -r`</code> outputs the current installed kernel release - we include it in backticks so that the output is includes as part of the command (you might also see this as <code>$(uname -r)</code></li>
<li><code>/something/q</code> says stop when you match &lsquo;something&rsquo; (in this case, something is output of <code>uname -r</code>) - the <code>/</code> surround a regular expression</li>
<li><code>p</code> is print</li>
<li>the <code>;</code> is the command separtor, so <code>/something/q;p</code> says quit when you match something, else print</li>
</ul>
<p>altogether, <code>sed -n '/'`uname -r`'/q;p'</code> is print the lines until it matches with the current kernel name.</p>

</article>
<hr/>

<article>
  <a href="https://labs.yulrizka.com/til/unix/reusing-last-command-argument/">
    <h2>
      Reusing last command arguments
    </h2>
  </a>
  <div class="posted_at">
    2016-03-11 ::
    ( 1 minutes reading )
  </div>

  <div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ <span class="nb">echo</span> <span class="m">1</span>
<span class="m">1</span>
$ <span class="nb">echo</span> <span class="m">2</span>
<span class="m">2</span>
$ <span class="nb">echo</span> <span class="m">3</span>
<span class="m">3</span>
$ <span class="nb">echo</span> <span class="m">4</span>
<span class="m">4</span>
$ <span class="nb">echo</span> <span class="m">5</span>
<span class="m">5</span>
</code></pre></td></tr></table>
</div>
</div><p>use <code>alt + .</code> will reuse the last program argument in descending order</p>
<pre><code>$ echo (press alt + .)
$ echo 5 (press alt + . again)
$ echo 4 (press alt + . again)
...
</code></pre><h2 id="selective-arguments">selective arguments</h2>
<ul>
<li><code>!:1</code> gives you the first argument</li>
<li><code>!:2-3</code> gives you 2nd and third argument and</li>
<li><code>!:-3</code>  gives you binary name + first 3 arguments</li>
</ul>
<pre><code>$ echo 1 2 3 4 5
$ echo !:1 # -&gt; echo 1
$ echo 1 2 3 4 5
$ echo !:2-3 # -&gt; echo 2 3
$ echo 1 2 3 4 5
$ echo !:-3 # -&gt; echo echo 1 2 3
</code></pre>
</article>
<hr/>

<article>
  <a href="https://labs.yulrizka.com/til/unix/pbcopy-alternative-for-copying-to-clipboard/">
    <h2>
      pbcopy alternative for copying to clipboard
    </h2>
  </a>
  <div class="posted_at">
    2016-02-13 ::
    ( 1 minutes reading )
  </div>

  <p>in osx we have <a href="https://github.com/yulrizka/til/blob/master/osx/pipe%20output%20to%20clipboard%20with%20pbcopy%20and%20pbpaste.md">pbcopy &amp; pbpaste</a></p>
<p>we can have something similar in linux. Put this is your shell profile (<code>~/.bashrc</code> or <code>~/.zshrc</code> if you are using zsh)</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="nb">alias</span> <span class="nv">pbcopy</span><span class="o">=</span><span class="s1">&#39;xclip -selection clipboard&#39;</span>
<span class="nb">alias</span> <span class="nv">pbpaste</span><span class="o">=</span><span class="s1">&#39;xclip -selection clipboard -o&#39;</span>
</code></pre></td></tr></table>
</div>
</div>
</article>
<hr/>

<article>
  <a href="https://labs.yulrizka.com/til/osx/manage-clipboard-easily-with-jumpcut/">
    <h2>
      manage clipboard easily with jumpcut
    </h2>
  </a>
  <div class="posted_at">
    2016-02-11 ::
    ( 1 minutes reading )
  </div>

  <p><a href="http://jumpcut.sourceforge.net/">Jumpcut</a> is clipboard manager that allows you to select your copy history.</p>
<p>Let say you copy fil the contents of A, B, C, D. After you copy file D you want to paste the file B.
Usually you have to go back to copy the content of file, but now you don&rsquo;t have too.</p>

</article>
<hr/>

<article>
  <a href="https://labs.yulrizka.com/til/osx/pipe-output-to-clipboard-with-pbcopy-and-pbpaste/">
    <h2>
      pipe output to clipboard with pbcopy and pbpaste
    </h2>
  </a>
  <div class="posted_at">
    2016-02-10 ::
    ( 1 minutes reading )
  </div>

  <p>Using terminal and needs to copy the result of command to clipboard ? use pbcopy</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ cat somefile.txt <span class="p">|</span> pbcopy
</code></pre></td></tr></table>
</div>
</div><p>Or the other way around, paste from clipboard and pipe it to other program</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ pbpaste <span class="p">|</span> grep foo
</code></pre></td></tr></table>
</div>
</div>
</article>
<hr/>

<article>
  <a href="https://labs.yulrizka.com/en/testing-go-1-dot-5-cross-compilation/">
    <h2>
      Testing go 1.5 cross compilation on raspberry pi
    </h2>
  </a>
  <div class="posted_at">
    2015-08-29 ::
    ( 6 minutes reading )
  </div>

  <p>I&rsquo;m so excited with the new release of golang. One particular feature
is now very easy to build for multiple architecture. If you seen my other posts,
I also like to tinker with my raspberry-pi. On my previous project I use either ruby
or python for building some stuff. One annoying thing is dependency, setup and compilation
is usually quite slow. Would be cool if I could just create some stuff in desktop and just
<em>scp</em> the binary to pi and everything should work!</p>
<p>There is <a href="http://dave.cheney.net/2015/03/03/cross-compilation-just-got-a-whole-lot-better-in-go-1-5">this nice</a> article that explain the process. Let&rsquo;s start there and create simple application</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-go" data-lang="go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
	<span class="s">&#34;fmt&#34;</span>
	<span class="s">&#34;runtime&#34;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;Hello. I&#39;m running %s on %s architecture\n&#34;</span><span class="p">,</span> <span class="nx">runtime</span><span class="p">.</span><span class="nx">GOOS</span><span class="p">,</span> <span class="nx">runtime</span><span class="p">.</span><span class="nx">GOARCH</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>Let&rsquo;s try to build it</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="c1"># create binary called &#39;main&#39; for raspberry-pi (1gen)</span>
$ env <span class="nv">GOOS</span><span class="o">=</span>linux <span class="nv">GOARCH</span><span class="o">=</span>arm <span class="nv">GOARM</span><span class="o">=</span><span class="m">6</span> go build main.go

<span class="c1"># transfer the binary to pi</span>
$ scp main pi:
</code></pre></td></tr></table>
</div>
</div><p>Now, crossing my finger, and run it on my pi</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ ssh pi

pi@raspbmc:~$ ./main 
Hello. I<span class="err">&#39;</span>m running linux on arm architecture
pi@raspbmc:~$ 
</code></pre></td></tr></table>
</div>
</div><p>Holy crap, it&rsquo;s that easy. I&rsquo;m excited. Let&rsquo;s see if go routine works</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-go" data-lang="go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
	<span class="s">&#34;fmt&#34;</span>
	<span class="s">&#34;sync&#34;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="kd">var</span> <span class="nx">wg</span> <span class="nx">sync</span><span class="p">.</span><span class="nx">WaitGroup</span>
	<span class="nx">nWorker</span> <span class="o">:=</span> <span class="mi">2</span>
	<span class="nx">c</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="kd">chan</span> <span class="kt">string</span><span class="p">)</span>

	<span class="c1">// write 10 message to channel c
</span><span class="c1"></span>	<span class="k">go</span> <span class="kd">func</span><span class="p">()</span> <span class="p">{</span>
		<span class="k">defer</span> <span class="nb">close</span><span class="p">(</span><span class="nx">c</span><span class="p">)</span>
		<span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
			<span class="nx">c</span> <span class="o">&lt;-</span> <span class="nx">fmt</span><span class="p">.</span><span class="nf">Sprintf</span><span class="p">(</span><span class="s">&#34;item sequence %d&#34;</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span>
		<span class="p">}</span>
	<span class="p">}()</span>

	<span class="c1">// create n worker to read from channel c
</span><span class="c1"></span>	<span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="nx">nWorker</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
		<span class="nx">wg</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
		<span class="k">go</span> <span class="kd">func</span><span class="p">(</span><span class="nx">worker</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
			<span class="k">for</span> <span class="nx">msg</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">c</span> <span class="p">{</span>
				<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;worker %d: msg %s\n&#34;</span><span class="p">,</span> <span class="nx">worker</span><span class="p">,</span> <span class="nx">msg</span><span class="p">)</span>
			<span class="p">}</span>
			<span class="nx">wg</span><span class="p">.</span><span class="nf">Done</span><span class="p">()</span>
		<span class="p">}(</span><span class="nx">i</span><span class="p">)</span>
	<span class="p">}</span>

	<span class="nx">wg</span><span class="p">.</span><span class="nf">Wait</span><span class="p">()</span>
	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;That&#39;s super awesome!!, cee ya!&#34;</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>Again, build and <em>scp</em>, and cross some more fingers</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">
@raspbmc:~$ ls -alh main
-rwxr-xr-- <span class="m">1</span> pi pi 1.9M Aug <span class="m">29</span> 18:08 main
pi@raspbmc:~$ ./main 
worker 1: msg item sequence <span class="m">0</span>
worker 0: msg item sequence <span class="m">1</span>
worker 1: msg item sequence <span class="m">2</span>
worker 0: msg item sequence <span class="m">3</span>
worker 0: msg item sequence <span class="m">4</span>
worker 0: msg item sequence <span class="m">5</span>
worker 0: msg item sequence <span class="m">6</span>
worker 0: msg item sequence <span class="m">7</span>
worker 0: msg item sequence <span class="m">8</span>
worker 1: msg item sequence <span class="m">9</span>
That<span class="err">&#39;</span>s super awesome!!, cee ya!
</code></pre></td></tr></table>
</div>
</div><p>Super awesome indeed, it just works!. Oh and the binary is not that big <em>1.9M</em>
considering it statically include the library.</p>
<p>Hmm let&rsquo;s try something fun that fiddle with the <em>gpio</em> pin. Let&rsquo;s create something that
what raspberry-pi made for.. blinking led :p</p>
<p>There is already <a href="https://github.com/davecheney/gpio">library</a>. Let&rsquo;s starts there.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-go" data-lang="go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
	<span class="s">&#34;fmt&#34;</span>
	<span class="s">&#34;os&#34;</span>
	<span class="s">&#34;os/signal&#34;</span>
	<span class="s">&#34;time&#34;</span>

	<span class="s">&#34;github.com/davecheney/gpio&#34;</span>
	<span class="s">&#34;github.com/davecheney/gpio/rpi&#34;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="c1">// set GPIO25 to output mode
</span><span class="c1"></span>	<span class="nx">pin</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">gpio</span><span class="p">.</span><span class="nf">OpenPin</span><span class="p">(</span><span class="nx">rpi</span><span class="p">.</span><span class="nx">GPIO25</span><span class="p">,</span> <span class="nx">gpio</span><span class="p">.</span><span class="nx">ModeOutput</span><span class="p">)</span>
	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;Error opening pin! %s\n&#34;</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
		<span class="k">return</span>
	<span class="p">}</span>

	<span class="c1">// turn the led off on exit
</span><span class="c1"></span>	<span class="nx">c</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="kd">chan</span> <span class="nx">os</span><span class="p">.</span><span class="nx">Signal</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
	<span class="nx">signal</span><span class="p">.</span><span class="nf">Notify</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span> <span class="nx">os</span><span class="p">.</span><span class="nx">Interrupt</span><span class="p">)</span>
	<span class="k">go</span> <span class="kd">func</span><span class="p">()</span> <span class="p">{</span>
		<span class="k">for</span> <span class="nx">_</span> <span class="p">=</span> <span class="k">range</span> <span class="nx">c</span> <span class="p">{</span>
			<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;\nClearing and unexporting the pin.\n&#34;</span><span class="p">)</span>
			<span class="nx">pin</span><span class="p">.</span><span class="nf">Clear</span><span class="p">()</span>
			<span class="nx">pin</span><span class="p">.</span><span class="nf">Close</span><span class="p">()</span>
			<span class="nx">os</span><span class="p">.</span><span class="nf">Exit</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
		<span class="p">}</span>
	<span class="p">}()</span>

	<span class="nf">dance</span><span class="p">(</span><span class="nx">pin</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nf">dance</span><span class="p">(</span><span class="nx">pin</span> <span class="nx">gpio</span><span class="p">.</span><span class="nx">Pin</span><span class="p">)</span> <span class="p">{</span>
	<span class="k">for</span> <span class="p">{</span>
		<span class="nx">pin</span><span class="p">.</span><span class="nf">Set</span><span class="p">()</span>
		<span class="nx">time</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="mi">500</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
		<span class="nx">pin</span><span class="p">.</span><span class="nf">Clear</span><span class="p">()</span>
		<span class="nx">time</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="mi">500</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
	<span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>Dayuumm.. It&rsquo;s that easy. No more pip install or bundle install on pi. Just <em>scp</em> the binary!</p>
<p>Of course we&rsquo;ve got this far, we must try to control it remotely via HTTP.</p>
<div class="row">
  <div class="span8 offset1">
<iframe width="628" height="400" src="https://www.youtube.com/embed/QkHu2-cgauU" frameborder="0" allowfullscreen></iframe align="center">
  </div>
</div><br/>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-go" data-lang="go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
	<span class="s">&#34;fmt&#34;</span>
	<span class="s">&#34;net/http&#34;</span>
	<span class="s">&#34;os&#34;</span>
	<span class="s">&#34;os/signal&#34;</span>
	<span class="s">&#34;time&#34;</span>

	<span class="s">&#34;github.com/davecheney/gpio&#34;</span>
	<span class="s">&#34;github.com/davecheney/gpio/rpi&#34;</span>
<span class="p">)</span>

<span class="c1">// channel to control start blinking or not
</span><span class="c1"></span><span class="kd">var</span> <span class="nx">ctrlChan</span> <span class="p">=</span> <span class="nb">make</span><span class="p">(</span><span class="kd">chan</span> <span class="kt">bool</span><span class="p">)</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="c1">// set GPIO25 to output mode
</span><span class="c1"></span>	<span class="nx">pin</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">gpio</span><span class="p">.</span><span class="nf">OpenPin</span><span class="p">(</span><span class="nx">rpi</span><span class="p">.</span><span class="nx">GPIO25</span><span class="p">,</span> <span class="nx">gpio</span><span class="p">.</span><span class="nx">ModeOutput</span><span class="p">)</span>
	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;Error opening pin! %s\n&#34;</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
		<span class="k">return</span>
	<span class="p">}</span>

	<span class="c1">// turn the led off on exit
</span><span class="c1"></span>	<span class="nx">c</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="kd">chan</span> <span class="nx">os</span><span class="p">.</span><span class="nx">Signal</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
	<span class="nx">signal</span><span class="p">.</span><span class="nf">Notify</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span> <span class="nx">os</span><span class="p">.</span><span class="nx">Interrupt</span><span class="p">)</span>
	<span class="k">go</span> <span class="kd">func</span><span class="p">()</span> <span class="p">{</span>
		<span class="k">for</span> <span class="nx">_</span> <span class="p">=</span> <span class="k">range</span> <span class="nx">c</span> <span class="p">{</span>
			<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;\nClearing and unexporting the pin.\n&#34;</span><span class="p">)</span>
			<span class="nx">pin</span><span class="p">.</span><span class="nf">Clear</span><span class="p">()</span>
			<span class="nx">pin</span><span class="p">.</span><span class="nf">Close</span><span class="p">()</span>
			<span class="nx">os</span><span class="p">.</span><span class="nf">Exit</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
		<span class="p">}</span>
	<span class="p">}()</span>

	<span class="k">go</span> <span class="nf">dance</span><span class="p">(</span><span class="nx">pin</span><span class="p">,</span> <span class="nx">ctrlChan</span><span class="p">)</span>
	<span class="nx">ctrlChan</span> <span class="o">&lt;-</span> <span class="kc">true</span>

	<span class="c1">// http listen
</span><span class="c1"></span>	<span class="nx">http</span><span class="p">.</span><span class="nf">HandleFunc</span><span class="p">(</span><span class="s">&#34;/dance&#34;</span><span class="p">,</span> <span class="nx">danceHandler</span><span class="p">)</span>
	<span class="nx">http</span><span class="p">.</span><span class="nf">ListenAndServe</span><span class="p">(</span><span class="s">&#34;:8080&#34;</span><span class="p">,</span> <span class="kc">nil</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nf">dance</span><span class="p">(</span><span class="nx">pin</span> <span class="nx">gpio</span><span class="p">.</span><span class="nx">Pin</span><span class="p">,</span> <span class="nx">ctrlChan</span> <span class="kd">chan</span> <span class="kt">bool</span><span class="p">)</span> <span class="p">{</span>
	<span class="nx">enabled</span> <span class="o">:=</span> <span class="kc">false</span>
	<span class="k">for</span> <span class="p">{</span>
		<span class="k">select</span> <span class="p">{</span>
		<span class="k">case</span> <span class="nx">val</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">ctrlChan</span><span class="p">:</span>
      <span class="c1">// got value from danceHandler via the channel
</span><span class="c1"></span>			<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;dancing? %+v\n&#34;</span><span class="p">,</span> <span class="nx">val</span><span class="p">)</span>
			<span class="nx">enabled</span> <span class="p">=</span> <span class="nx">val</span>
		<span class="k">default</span><span class="p">:</span>
			<span class="k">if</span> <span class="nx">enabled</span> <span class="p">{</span>
				<span class="nx">pin</span><span class="p">.</span><span class="nf">Set</span><span class="p">()</span>
				<span class="nx">time</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="mi">500</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
				<span class="nx">pin</span><span class="p">.</span><span class="nf">Clear</span><span class="p">()</span>
				<span class="nx">time</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="mi">500</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nf">danceHandler</span><span class="p">(</span><span class="nx">w</span> <span class="nx">http</span><span class="p">.</span><span class="nx">ResponseWriter</span><span class="p">,</span> <span class="nx">r</span> <span class="o">*</span><span class="nx">http</span><span class="p">.</span><span class="nx">Request</span><span class="p">)</span> <span class="p">{</span>
	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Received request&#34;</span><span class="p">)</span>
	<span class="nx">s</span> <span class="o">:=</span> <span class="nx">r</span><span class="p">.</span><span class="nx">URL</span><span class="p">.</span><span class="nf">Query</span><span class="p">().</span><span class="nf">Get</span><span class="p">(</span><span class="s">&#34;s&#34;</span><span class="p">)</span>
	<span class="nx">ctrlChan</span> <span class="o">&lt;-</span> <span class="nx">s</span> <span class="o">==</span> <span class="s">&#34;1&#34;</span> <span class="c1">// tell dance to enable or not
</span><span class="c1"></span><span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>Look at that. All it takes to do that is just 67 lines of code. The main
logic just about 31 lines. That&rsquo;s including the fancy dancing blinking.
No framework, only <em>gpio</em> dependency. Everything else is go <em>stdlib</em>.</p>
<p>Ok, let&rsquo;s do one other thing. The reverse!
Trigger something when button is pressed. For this let&rsquo;s just use
<em>websocket</em>, and see how hard it is to implement this. What this mean that
if you have websocket client (web browser) you could listen to event and stream it
directly from your raspberry-pi to your computer.</p>
<div class="row">
  <div class="span8 offset1">
<iframe width="628" height="400" src="https://www.youtube.com/embed/w1IrlUdEgPk" frameborder="0" allowfullscreen></iframe align="center">
  </div>
</div><br/>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-go" data-lang="go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
	<span class="s">&#34;bufio&#34;</span>
	<span class="s">&#34;fmt&#34;</span>
	<span class="s">&#34;net/http&#34;</span>
	<span class="s">&#34;os&#34;</span>
	<span class="s">&#34;os/signal&#34;</span>
	<span class="s">&#34;time&#34;</span>

	<span class="s">&#34;github.com/davecheney/gpio&#34;</span>
	<span class="s">&#34;github.com/davecheney/gpio/rpi&#34;</span>
	<span class="s">&#34;golang.org/x/net/websocket&#34;</span>
<span class="p">)</span>

<span class="c1">// channel to control start blinking or not
</span><span class="c1"></span><span class="kd">var</span> <span class="nx">ctrlChan</span> <span class="p">=</span> <span class="nb">make</span><span class="p">(</span><span class="kd">chan</span> <span class="kt">bool</span><span class="p">)</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="c1">// set GPIO25 to output mode
</span><span class="c1"></span>	<span class="nx">pin</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">gpio</span><span class="p">.</span><span class="nf">OpenPin</span><span class="p">(</span><span class="nx">rpi</span><span class="p">.</span><span class="nx">GPIO25</span><span class="p">,</span> <span class="nx">gpio</span><span class="p">.</span><span class="nx">ModeOutput</span><span class="p">)</span>
	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;Error opening pin! %s\n&#34;</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
		<span class="k">return</span>
	<span class="p">}</span>

	<span class="c1">// turn the led off on exit
</span><span class="c1"></span>	<span class="nx">c</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="kd">chan</span> <span class="nx">os</span><span class="p">.</span><span class="nx">Signal</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
	<span class="nx">signal</span><span class="p">.</span><span class="nf">Notify</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span> <span class="nx">os</span><span class="p">.</span><span class="nx">Interrupt</span><span class="p">)</span>
	<span class="k">go</span> <span class="kd">func</span><span class="p">()</span> <span class="p">{</span>
		<span class="k">for</span> <span class="nx">_</span> <span class="p">=</span> <span class="k">range</span> <span class="nx">c</span> <span class="p">{</span>
			<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;\nClearing and unexporting the pin.\n&#34;</span><span class="p">)</span>
			<span class="nx">pin</span><span class="p">.</span><span class="nf">Clear</span><span class="p">()</span>
			<span class="nx">pin</span><span class="p">.</span><span class="nf">Close</span><span class="p">()</span>
			<span class="nx">os</span><span class="p">.</span><span class="nf">Exit</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
		<span class="p">}</span>
	<span class="p">}()</span>

	<span class="k">go</span> <span class="nf">buttonHandler</span><span class="p">(</span><span class="nx">pin</span><span class="p">)</span>

	<span class="c1">// http listen
</span><span class="c1"></span>	<span class="nx">http</span><span class="p">.</span><span class="nf">Handle</span><span class="p">(</span><span class="s">&#34;/&#34;</span><span class="p">,</span> <span class="nx">websocket</span><span class="p">.</span><span class="nf">Handler</span><span class="p">(</span><span class="nx">EchoServer</span><span class="p">))</span>
	<span class="nx">http</span><span class="p">.</span><span class="nf">ListenAndServe</span><span class="p">(</span><span class="s">&#34;:8080&#34;</span><span class="p">,</span> <span class="kc">nil</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// handle websocket connection
</span><span class="c1"></span><span class="kd">func</span> <span class="nf">EchoServer</span><span class="p">(</span><span class="nx">ws</span> <span class="o">*</span><span class="nx">websocket</span><span class="p">.</span><span class="nx">Conn</span><span class="p">)</span> <span class="p">{</span>
	<span class="nx">w</span> <span class="o">:=</span> <span class="nx">bufio</span><span class="p">.</span><span class="nf">NewWriter</span><span class="p">(</span><span class="nx">ws</span><span class="p">)</span>
	<span class="nx">w</span><span class="p">.</span><span class="nf">WriteString</span><span class="p">(</span><span class="s">&#34;Hello, i will tell you if button is pressed\n\n&#34;</span><span class="p">)</span>
	<span class="nx">w</span><span class="p">.</span><span class="nf">Flush</span><span class="p">()</span>

	<span class="k">for</span> <span class="p">{</span>
		<span class="o">&lt;-</span><span class="nx">ctrlChan</span>
		<span class="nx">w</span><span class="p">.</span><span class="nf">WriteString</span><span class="p">(</span><span class="s">&#34;Kachhinggg... somebody pressed the button\n&#34;</span><span class="p">)</span>
		<span class="nx">w</span><span class="p">.</span><span class="nf">Flush</span><span class="p">()</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="c1">// check if button is pressed
</span><span class="c1"></span><span class="kd">func</span> <span class="nf">buttonHandler</span><span class="p">(</span><span class="nx">p</span> <span class="nx">gpio</span><span class="p">.</span><span class="nx">Pin</span><span class="p">)</span> <span class="p">{</span>
	<span class="k">for</span> <span class="p">{</span>
		<span class="k">if</span> <span class="nx">p</span><span class="p">.</span><span class="nf">Get</span><span class="p">()</span> <span class="p">{</span>
			<span class="nx">ctrlChan</span> <span class="o">&lt;-</span> <span class="kc">true</span>
		<span class="p">}</span>
		<span class="nx">time</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="mi">150</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
	<span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>You see there I connect 2 client. One browser and the other one is <em>cli app</em> that I created.
Notice that they got their messages alternately between each other. This is because
they are sharing the same channel. I will leave it to you my kind reader as an exercise
to make it broadcast the message instead of distributing them :)</p>
<p>all source are available at <a href="https://github.com/yulrizka/go-pi-experiments">https://github.com/yulrizka/go-pi-experiments</a></p>

</article>
<hr/>

<article>
  <a href="https://labs.yulrizka.com/en/osx-push-to-talk-app/">
    <h2>
      osx-push-to-talk App
    </h2>
  </a>
  <div class="posted_at">
    2015-03-22 ::
    ( 2 minutes reading )
  </div>

  <p>Push To Talk app for OSX</p>
<div class="thumbnail" align="center">
  <img src="/images/post/ptt/ptt-installer.png" alt="PushToTalk App">
  <div class="caption">PushToTalk App installer</div>
</div>
<br/>
<p>As a part of scrum teams, every day I need to give updates to my team via Google Hangout.
We have a team here in the Netherlands and also in Indonesia.
Some times I am in the same room as a colleague of mine. This sometimes quite annoying
because I can hear my self (with a delay) from his mic. This somehow messed up my brain.
Google Hangout already has a &lsquo;auto adjust mic volume&rsquo; that is really great which cancel the noise.
But we still have a problem and end-up muting each other when we want to talk.</p>
<p>There are currently an App that does this already on Apple store, and pretty cheap too.
Nevertheless I could not find the one that is suitable for my needs. And I would like to develop an OSX app
since I never done it before. Even though i have a hate-love relationship with XCode,
I have to give credits to XCode. It&rsquo;s quite easy to create an app like this.</p>
<div class="" align="center">
  <img src="/images/post/ptt/ptt-off.png" alt="PushToTalk Off state">
  <br>
  <img src="/images/post/ptt/ptt-on.png" alt="PushToTalk on State">
  <div class="caption">Status bar indicator</div>
</div>
<p>The app sits on status-bar (tray icon ?). By default it muted the microphone and show
translucent mic icon. If you hold down the <strong>Right Options</strong> key, it will un-mute the microphone as long as you pressed it.  when you release the key, it will mute the microphone until you press the key again or quit the application.</p>
<p>Everything is at <a href="https://github.com/yulrizka/osx-push-to-talk">github.com/yulrizka/osx-push-to-talk</a>:</p>
<ul>
<li><a href="https://github.com/yulrizka/osx-push-to-talk/releases">DMG Installer</a></li>
<li><a href="https://github.com/yulrizka/osx-push-to-talk">Source</a></li>
</ul>
<p>I&rsquo;ve only tested this app on my MacBook running Yosemite.</p>
<p>If you are on Linux, there is also a phython GTK <a href="https://github.com/coddingtonbear/linux-push-to-talk">app</a> that does this really nicely.</p>
<p>If you are on windows, well Godspeed my friend :)</p>
<p>veel succes!</p>

</article>
<hr/>

<article>
  <a href="https://labs.yulrizka.com/til/unix/process-pipe-operator/">
    <h2>
      process pipe operator
    </h2>
  </a>
  <div class="posted_at">
    2015-02-12 ::
    ( 1 minutes reading )
  </div>

  <p><code>&lt;( )</code> operator executes command inside the parenthesis and output the file descriptor</p>
<p>example</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ cat &lt;<span class="o">(</span><span class="nb">echo</span> <span class="s1">&#39;hello&#39;</span><span class="o">)</span> &lt;<span class="o">(</span><span class="nb">echo</span> <span class="s1">&#39;world&#39;</span><span class="o">)</span>
hello
world

<span class="c1"># is practically the same with</span>

$ <span class="nb">echo</span> <span class="s1">&#39;hello&#39;</span> &gt; 1.txt
$ <span class="nb">echo</span> <span class="s1">&#39;world&#39;</span> &gt; 2.txt
$ cat 1.txt 2.txt

<span class="c1"># replace cat with ls</span>
$ ls &lt;<span class="o">(</span><span class="nb">echo</span> <span class="s1">&#39;hello&#39;</span><span class="o">)</span> &lt;<span class="o">(</span><span class="nb">echo</span> <span class="s1">&#39;world&#39;</span><span class="o">)</span>
/proc/self/fd/11  /proc/self/fd/12
</code></pre></td></tr></table>
</div>
</div><p>you can use this command for example to compare 2 directory and find only uniq file</p>
<p>example:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ comm -3 &lt;<span class="o">(</span>ls -1 dir1<span class="o">)</span> &lt;<span class="o">(</span>ls -1 dir2<span class="o">)</span>
</code></pre></td></tr></table>
</div>
</div>
</article>
<hr/>

<article>
  <a href="https://labs.yulrizka.com/en/tracking-origin-of-bugs-with-git-bisect/">
    <h2>
      Tracking origin of bugs with git bisect
    </h2>
  </a>
  <div class="posted_at">
    2015-01-16 ::
    ( 4 minutes reading )
  </div>

  <div class="thumbnail" align="center">
  <img src="https://c1.staticflickr.com/7/6117/6342791406_599137f28d_n.jpg" width="500" height="328" alt="Disect"></a>
  <div class="caption">Disect the rocket, image by <a href="https://www.flickr.com/photos/proudlove/6342791406/in/photolist-aEusUw-fMT4UA-4mPmFs-zVfQK-4gfRK3-4gg1BC-dopM92-5zQHdK-eP8wta-6aQiE-da7WW5-L7fpN-aWzyh-27sZV-6aQes-4ofRQM-3Szag-fHd5n-bn2juW-q9DEK-CqpV6-8uiAu1-DxAh-5CfTu7-5H7Trn-24h5o-5CbB5H-5CbB9v-5nu4sT-5DKzEZ-5CbAWz-9QghGk-5CbAQR-5CbAZP-fkfbk-bnDX2V-3gst8Z-483285-boVvSK-boVwtp-crKHxQ-fgchqD-boW4uM-boVV5H-boW4Yv-boVVmX-boVUNF-boW4JB-o8v6b7-5s9DiF">ProudloveNathan Proudlove</a></div>
</div>
<p>I&rsquo;ve been involved with a iOS project this past week. I&rsquo;m adding functionalities to the <a href="https://github.com/senseobservationsystems/sense-ios-library">CommonSense iOS library</a>.
One of the most annoying thing is that it took about 2 minute to load the project. This is only happened in the unstable branch.
The master branch seems to be working fine. So I knew that somewhere there is a commit when this starts happening.</p>
<p>Now this is a good example where <code>git bisect</code> is very useful. It will perform a binary search through commit history until the first
bad commit found. So you start with a commit and you marked is as a &lsquo;<em>good</em>&rsquo; or &lsquo;<em>bad</em>'. Then every time you mark a commit as good / bad,
it will then checkout another commit half way in the middle point between previous history. In each checkout then you test the code and see
whether the bugs exist or not.</p>
<p>Here is an example</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="c1"># let&#39;s start  bisecting, Im in unstable branch,</span>
 sense-ios-library git:<span class="o">(</span>unstable<span class="o">)</span> $ git bisect start

</code></pre></td></tr></table>
</div>
</div><p>the prompt <code>sense-ios-library</code> shows the current folder, and <code>git:(unstable)</code> show current commit. it&rsquo;s part of <a href="https://github.com/robbyrussell/oh-my-zsh">oh-my-zsh</a> plugin</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="c1"># I open the xcode, and it took quite a long time. so let&#39;s marks current revision as bad</span>
 sense-ios-library git:<span class="o">(</span>unstable<span class="o">)</span> $ git bisect bad

<span class="c1"># I know the master branch don&#39;t have this problem, so let&#39;s mark it as good</span>
 sense-ios-library git:<span class="o">(</span>unstable<span class="o">)</span> $ git bisect good master 

Bisecting: <span class="m">9</span> revisions left to <span class="nb">test</span> after this <span class="o">(</span>roughly <span class="m">3</span> steps<span class="o">)</span>
<span class="o">[</span>c1841c0f99a4fa788c14c7437fac7c9547c768c9<span class="o">]</span> Merge pull request <span class="c1">#45 from senseobservationsystems/feature-KeepDataLocally</span>

<span class="c1"># now I&#39;m in c1841 commit, I tested again with xcode, and found no problem, mark it as good</span>

  sense2 git:<span class="o">(</span>c1841c0<span class="o">)</span> $ git bisect good

Bisecting: <span class="m">4</span> revisions left to <span class="nb">test</span> after this <span class="o">(</span>roughly <span class="m">2</span> steps<span class="o">)</span>
<span class="o">[</span>06bbd23c4af8f7008abfb814e1375b271e0b23e9<span class="o">]</span> Update interface and write tests lsit<span class="o">(</span> APPEND CMAKE_CXX_FLAGS <span class="s2">&#34;-std=c++0x&#34;</span><span class="o">)</span>

<span class="c1"># tested again, it&#39;s good</span>
  sense2 git:<span class="o">(</span>06bbd23<span class="o">)</span> $ git bisect good

Bisecting: <span class="m">2</span> revisions left to <span class="nb">test</span> after this <span class="o">(</span>roughly <span class="m">1</span> step<span class="o">)</span>
<span class="o">[</span>71517b7923143a8cf1ce205341dd6942c9468198<span class="o">]</span> Added threshold <span class="k">for</span> checking to remove old data from <span class="nb">local</span> storage to save battery life

<span class="c1"># Tested again, Now I&#39;m beginning to see the problem. Let&#39;s mark this bad</span>
  sense2 git:<span class="o">(</span>71517b7<span class="o">)</span> $ git bisect bad

Bisecting: <span class="m">0</span> revisions left to <span class="nb">test</span> after this <span class="o">(</span>roughly <span class="m">0</span> steps<span class="o">)</span>
<span class="o">[</span>e5c40d450193ac14fc2faa8c1f4dba2c7c2646f1<span class="o">]</span> Updated functionality and tests of getting <span class="nb">local</span> data

<span class="c1"># ....</span> 
<span class="c1"># and we keep doing this until we find the first commit when it was introduced.</span>

<span class="c1"># Now let&#39;s check our progress using log</span>

  sense-ios-library git:<span class="o">(</span>71517b7<span class="o">)</span> $ git bisect log

git bisect start
<span class="c1"># bad: [af42213324297e1234767f9224ec1af326514292] Merge pull request #48 from senseobservationsystems/feature-LocalStorageInterface</span>
git bisect bad af42213324297e1234767f9224ec1af326514292
<span class="c1"># good: [19f751627d152b89d3f2ecadb144507fcf9293fc] Merge pull request #43 from senseobservationsystems/unstable</span>
git bisect good 19f751627d152b89d3f2ecadb144507fcf9293fc
<span class="c1"># good: [c1841c0f99a4fa788c14c7437fac7c9547c768c9] Merge pull request #45 from senseobservationsystems/feature-KeepDataLocally</span>
git bisect good c1841c0f99a4fa788c14c7437fac7c9547c768c9
<span class="c1"># good: [06bbd23c4af8f7008abfb814e1375b271e0b23e9] Update interface and write tests lsit( APPEND CMAKE_CXX_FLAGS &#34;-std=c++0x&#34;)</span>
git bisect good 06bbd23c4af8f7008abfb814e1375b271e0b23e9

<span class="c1"># when you reach the final commit, you will be shown the commit log and modified file</span>

  sense2 git:<span class="o">(</span>e5c40d4<span class="o">)</span> $ git bisect bad

e5c40d450193ac14fc2faa8c1f4dba2c7c2646f1 is the first bad commit
commit e5c40d450193ac14fc2faa8c1f4dba2c7c2646f1
Author: Jhon Doe &lt;jhon-doe@sense-os.nl&gt;
Date:   Thu Jan <span class="m">8</span> 14:38:07 <span class="m">2015</span> +0100

    Updated functionality and tests of getting <span class="nb">local</span> data

:040000 <span class="m">040000</span> 0a82ee52c68bae4dacc1fec603ce0747b1df426c cd55743c27d2ba7554dfc3d021616b62957c4bba M  Sense Library Tests
:040000 <span class="m">040000</span> 8a01944a75e80534124a7a657254e38002518f62 5d14fb11caa352acc7352c85e6a1c08794ae9e65 M  SensePlatform.xcodeproj
:040000 <span class="m">040000</span> a5e3eb78c4c352e7c010b8a4e90c12248f0ec9b0 2174d7ad531a7d989d313c826445434a073b433c M  SensePlatformTestAppTests
:040000 <span class="m">040000</span> 4a40764a31981c172a089cd834eb9666b081f3f5 0713beb3c64f1b6f1d2a7811f59be4a82ec30d66 M  sense platform

</code></pre></td></tr></table>
</div>
</div><p>Now that you know when was the bugs introduced. you can now start looking at the problem.</p>
<p>I found out there is something that doesn&rsquo;t feel right here <a href="https://github.com/senseobservationsystems/sense-ios-library/commit/e5c40d450193ac14fc2faa8c1f4dba2c7c2646f1?diff=unified#diff-13dddd16767af84fe2be0e8f0f0c8946R469">github:commit/e5c40</a>.
There is a reference to <code>Xcode.app</code> in one of the folder. So every time I open the project,
or switch branch, it will try to look into things inside <code>Xcode.app</code>.
So removing the reference indeed solve the problem.</p>
<p>The <em>bisect</em> function is very versatile tool to track down when a bug was introduced.
You can even automate the test so you don&rsquo;t have to check each bisect commit your self.
The <a href="http://git-scm.com/docs/git-bisect"><em>bisect</em> documentation</a> provide a good explanation about the command and also an example on how to automate the test.</p>
<p>Now go on catch and squash those annoying bug!</p>

</article>
<hr/>




<ul class="pagination">
    
    <li class="page-item">
        <a href="/" class="page-link" aria-label="First"><span aria-hidden="true">&laquo;&laquo;</span></a>
    </li>
    
    <li class="page-item">
    <a href="/page/5/" class="page-link" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>
    </li>
    
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/">1</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/page/2/">2</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/page/3/">3</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item disabled"><span aria-hidden="true">&nbsp;&hellip;&nbsp;</span></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/page/5/">5</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item active"><a class="page-link" href="/page/6/">6</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/page/7/">7</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/page/8/">8</a></li>
    
    
    <li class="page-item">
    <a href="/page/7/" class="page-link" aria-label="Next"><span aria-hidden="true">&raquo;</span></a>
    </li>
    
    <li class="page-item">
        <a href="/page/8/" class="page-link" aria-label="Last"><span aria-hidden="true">&raquo;&raquo;</span></a>
    </li>
    
</ul>






        </div>
      </div>
      <div id="sidebar-wrapper" class="span3">
        <div class="sidebar">
          <aside>
          <h2>Archives</h2>
          <h3>English</h3>
          <ul>
          
            <li>
              <a href="https://labs.yulrizka.com/en/my-desktop-with-i3-polybar-conky-rofi/">My Desktop With i3, polybar, conky, and rofi</a>
            </li>
          
            <li>
              <a href="https://labs.yulrizka.com/en/convert-intellij-live-template-to-vscode/">Convert Intellij Live Template to vscode Snippet</a>
            </li>
          
            <li>
              <a href="https://labs.yulrizka.com/en/why-for-range-behave-differently-depending-on-the-size-of-the-element/">Why for-range behaves differently depending on the size of the element (A peek into go compiler optimization)</a>
            </li>
          
            <li>
              <a href="https://labs.yulrizka.com/en/testing-go-1-dot-5-cross-compilation/">Testing go 1.5 cross compilation on raspberry pi</a>
            </li>
          
            <li>
              <a href="https://labs.yulrizka.com/en/osx-push-to-talk-app/">osx-push-to-talk App</a>
            </li>
          
            <li>
              <a href="https://labs.yulrizka.com/en/tracking-origin-of-bugs-with-git-bisect/">Tracking origin of bugs with git bisect</a>
            </li>
          
            <li>
              <a href="https://labs.yulrizka.com/en/stubbing-time-dot-now-in-golang/">Stubbing Time.Now() in golang</a>
            </li>
          
            <li>
              <a href="https://labs.yulrizka.com/en/my-account-just-got-hacked-by-romanian-possibly/">My account just got hacked by Romanian (Possibly)</a>
            </li>
          
            <li>
              <a href="https://labs.yulrizka.com/en/berks-upload-ruby-core-dump/">berks upload core dump</a>
            </li>
          
            <li>
              <a href="https://labs.yulrizka.com/en/safely-sharing-credentials-with-pgp/">Safely sharing credentials with PGP</a>
            </li>
          
          </ul>
          <h3>Indonesia</h3>
          <ul>
          
            <li>
              <a href="https://labs.yulrizka.com/id/ruby-fiber-apaan-sih/">Ruby Fiber apaan sih ?</a>
            </li>
          
            <li>
              <a href="https://labs.yulrizka.com/id/scale-mongodb-dengan-sharding/">Scale MongoDB dengan Sharding</a>
            </li>
          
            <li>
              <a href="https://labs.yulrizka.com/id/telepon-murah-ke-indonesia-dengan-voip/">Telepon murah ke Indonesia dengan voip</a>
            </li>
          
          </ul>

          <h3>Today I Learned</h3>
          <ul>
          
            <li>
              <a href="https://labs.yulrizka.com/til/git/push-only-current-branch/">Push Only Current Branch</a>
            </li>
          
            <li>
              <a href="https://labs.yulrizka.com/til/unix/convert-pdf-to-text-using-ocr/">Convert PDF to Text Using OCR</a>
            </li>
          
            <li>
              <a href="https://labs.yulrizka.com/til/git/checkout-last-branch/">Checkout Last Branch</a>
            </li>
          
            <li>
              <a href="https://labs.yulrizka.com/til/unix/replacing-last-command-and-execute-it/">Replacing Last Command and Execute It</a>
            </li>
          
            <li>
              <a href="https://labs.yulrizka.com/til/unix/open-last-command-in-the-editor-with-fc/">Open Last Command in the Editor With Fc</a>
            </li>
          
            <li>
              <a href="https://labs.yulrizka.com/til/unix/regex-for-validating-password/">Regex for Validating Password</a>
            </li>
          
            <li>
              <a href="https://labs.yulrizka.com/til/unix/sort-file-inline/">Sort file inline</a>
            </li>
          
            <li>
              <a href="https://labs.yulrizka.com/til/osx/show-hidden-file/">Show Hidden File</a>
            </li>
          
            <li>
              <a href="https://labs.yulrizka.com/til/unix/bash-forloop/">Bash Forloop</a>
            </li>
          
            <li>
              <a href="https://labs.yulrizka.com/til/unix/zsh-ctrl-p-same-behavior-as-up-arrow/">Zsh Ctrl P Same Behavior as Up Arrow</a>
            </li>
          
          </ul>
          </aside>
        </div>
      </div>
    </div>
  </div><header>
  <div id="banner">
    <div id="carousel-banner" class="wrapper carousel">
      <div class="carousel-inner excerpt">
      </div>
    </div> 
  </div>
  
  <div class="navbar navbar-fixed-top relative">  
    <div class="navbar-inner">    
      <div class="fill">
        <div class="container">
          <a href="/"><span class="brand">Labs.Yulrizka.com</span></a>
          <div id="social-icon" class="pull-right">
            <a href="https://twitter.com/#!/yulrizka" target="twitter" rel="popover" data-content="Follow me on twitter" data-original-title="@yulrizka" data-placement="left"><img src="/images/icon/twitter.png" alt="twitter"></a>  
            <a href="https://github.com/yulrizka" target="github" rel="popover" data-content="Github is source code repository that encourage social coding. Fork my projects from github." data-original-title="Fork me on Github" data-placement="left"><img src="/images/icon/github.png" alt="github"></a>  
            <a href="https://feeds.feedburner.com/yulrizka/labs" target="feed" rel="popover" data-content="Suscribe this blog feed on feed burner" data-original-title="RSS feed" data-placement="left"><img src="/images/icon/feed.png" alt="feed"></a>  
          </div>
          <a class="btn btn-navbar" href="#" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <div id="page-view">
            <ul class="nav pull-right">
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown" rel="popover" data-content="Arrange the sidebar position Left / Right / None" 
                data-original-title="Sidebar position" data-placement="left">
                  <i id="icon-panel" class="icon-right-panel icon-white"></i><b class="caret"></b>
                </a>
                <ul class="dropdown-menu">
                  <li><a href="#" id="sidebar-left-link"><i class="icon-left-panel"></i> Left Panel</a></li>
                  <li><a href="#" id="sidebar-none-link"><i class="icon-no-panel"></i> No Panel</a></li>
                  <li><a href="#" id="sidebar-right-link"><i class="icon-right-panel"></i> Right Panel</a></li>
                </ul>
              </li>
            </ul>
          </div>            
          <div class="nav-link nav-collapse">
            <ul class="nav">

              <li class="active banner"><a href="/">Home</a></li>
              <li class=""><a href="/en/">EN</a></li>
              <li class=""><a href="/id/">ID</a></li>
              <li class=""><a href="/til/">Today I Learned</a></li>
              
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</header>
<footer>
  <div class="container-fluid">
    <div class="row-fluid">
      <div id="footer-wrapper" class="span9 <!-- sidebar-right -->">
        <div class="footer">
          <p>
            &copy; Ahmy Yulrizka 2019. Made with <a href="https://gohugo.io/">hugo</a>
            <a href="https://github.com/yulrizka/yulrizka.github.com/tree/source">source</a>
          </p>
        </div>
      </div>
    </div>
 </div>
</footer>
</div> 


<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/javascripts/jquery-1.7.1.min.js"><\/script>')</script>


<script src="https://labs.yulrizka.com/javascript/global.js"></script>

<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-22308054-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>


</body>
</html>
