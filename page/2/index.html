<!DOCTYPE html>
<html lang="en">
<head>
	<meta name="generator" content="Hugo 0.75.1" />

<title>Dev Blogs of Ahmy Yulrizka - labs.yulrizka.com</title>
<meta name="description" content="Blog of Ahmy Yulrizka and stuff that I learned everyday">


<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">


<meta name="author" content="Ahmy Yulrizka">
<link rel="canonical" href="https://labs.yulrizka.com/">





 
<link rel="stylesheet" href="https://labs.yulrizka.com/css/default.min.dc2e649e33be45986ac30a89c008a6a194e1b0dc19451a314c324ff26a500dcb.css" media="screen, projection" type="text/css">




<link href='https://fonts.googleapis.com/css?family=Slackey' rel='stylesheet' type='text/css'>



</head>
<body>
<div id="container" class="sidebar-right">
  <div class="container-fluid" id="main">
    <div class="row-fluid">
      <div id="content-wrapper" class="span9 ">
        <div class="content">


<article>
  <a href="https://labs.yulrizka.com/til/unix/open-last-command-in-the-editor-with-fc/">
    <h2>
      Open Last Command in the Editor With Fc
    </h2>
  </a>
  <div class="posted_at">
    2020-03-08 ::
    ( 1 minutes reading )
  </div>

  <p>Some time you have a long command and you want to edit multiple word in it.  for example: <code>$ cat foo.txt | grep foo | grep -v bar &gt; foo_output.txt</code></p>
<p>Say you want to execute this 5 times and each replacing <code>foo</code> and <code>bar</code> with something else.</p>
<p>for that you can use the <code>fc</code> command.</p>
<pre><code>$ fc
</code></pre><p>It will open a text editor (vim for me. I&rsquo;m guessing it will look at $EDITOR env variable).<br>
After that you can edit or duplicate the line easily. Each line will be treated as a single command.</p>
<p>You can as well do something like</p>
<pre><code>$ fc foo=baz
</code></pre><p>It will replace all instance of <code>foo</code> in the command and replace it with <code>baz</code></p>

</article>
<hr/>

<article>
  <a href="https://labs.yulrizka.com/til/unix/regex-for-validating-password/">
    <h2>
      Regex for Validating Password
    </h2>
  </a>
  <div class="posted_at">
    2019-10-25 ::
    ( 1 minutes reading )
  </div>

  <p>This regex can be use to validate password</p>
<pre><code>((?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[\W]).{8,20})
</code></pre><p>description:</p>
<pre><code>(                   # Start of group
  (?=.*\d)          # must contains one digit from 0-9
  (?=.*[a-z])       # must contains one lowercase characters
  (?=.*[\W])        # must contains at least one special character
  .                 # match anything with previous condition checking
  {8,20}            # length at least 8 characters and maximum of 20 
)                   # End of group
</code></pre>
</article>
<hr/>

<article>
  <a href="https://labs.yulrizka.com/til/unix/sort-file-inline/">
    <h2>
      Sort file inline
    </h2>
  </a>
  <div class="posted_at">
    2019-09-26 ::
    ( 1 minutes reading )
  </div>

  <p>We can sort file by using <code>sort</code> command for example:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ sort a.txt

<span class="c1"># or</span>

$ cat a.txt <span class="p">|</span> sort
</code></pre></td></tr></table>
</div>
</div><p>But this will only output to stdout. Some time you want the file to be sorted. Instead you can do</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ sort a.txt -o a.txt
</code></pre></td></tr></table>
</div>
</div><p>note that this DOEST work and it will TRUNCATE the file</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ sort a.txt &gt; a.txt
</code></pre></td></tr></table>
</div>
</div>
</article>
<hr/>

<article>
  <a href="https://labs.yulrizka.com/til/osx/show-hidden-file/">
    <h2>
      Show Hidden File
    </h2>
  </a>
  <div class="posted_at">
    2019-09-22 ::
    ( 1 minutes reading )
  </div>

  <p>Tho show hidden file (file with <code>x</code>):</p>
<p><strong>Mojave</strong>:</p>
<p>In finder <code>CMD + Shift + .</code> to toggle it</p>
<p><strong>Before Mojave</strong>:</p>
<p>Show</p>
<pre><code>defaults write com.apple.finder AppleShowAllFiles YES; killall Finder /System/Library/CoreServices/Finder.app
</code></pre><p>Hide</p>
<pre><code>defaults write com.apple.finder AppleShowAllFiles NO; killall Finder /System/Library/CoreServices/Finder.app
</code></pre>
</article>
<hr/>

<article>
  <a href="https://labs.yulrizka.com/til/unix/bash-forloop/">
    <h2>
      Bash Forloop
    </h2>
  </a>
  <div class="posted_at">
    2019-09-16 ::
    ( 1 minutes reading )
  </div>

  <p>Example of forloop syntax</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="k">for</span> i in <span class="m">1</span> <span class="m">2</span> <span class="m">3</span> <span class="m">4</span> <span class="m">5</span>
<span class="k">do</span>
   <span class="nb">echo</span> <span class="s2">&#34;i=</span><span class="nv">$i</span><span class="s2">&#34;</span>
<span class="k">done</span>
</code></pre></td></tr></table>
</div>
</div><p>with range</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="k">for</span> i in <span class="o">{</span>1..5<span class="o">}</span>
<span class="k">do</span>
   <span class="nb">echo</span> <span class="s2">&#34;i=</span><span class="nv">$i</span><span class="s2">&#34;</span>
<span class="k">done</span>
</code></pre></td></tr></table>
</div>
</div><p>cutomize increment</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="k">for</span> i in <span class="o">{</span>0..10..2<span class="o">}</span>
<span class="k">do</span> 
   <span class="nb">echo</span> <span class="s2">&#34;i=</span><span class="nv">$i</span><span class="s2">&#34;</span>
<span class="k">done</span>
</code></pre></td></tr></table>
</div>
</div>
</article>
<hr/>

<article>
  <a href="https://labs.yulrizka.com/til/unix/zsh-ctrl-p-same-behavior-as-up-arrow/">
    <h2>
      Zsh Ctrl P Same Behavior as Up Arrow
    </h2>
  </a>
  <div class="posted_at">
    2019-09-13 ::
    ( 1 minutes reading )
  </div>

  <p>By default Ctrl-P just jump back to the history while up arrow behave a little bit smarter.</p>
<p>For example if you have history like this</p>
<pre><code>ssh a.com
ls
cd
ssh b.com
cat
grep
</code></pre><p>Normaly if you type <code>$ ssh</code> and <code>Ctrl-P</code> afterwares, it will give you <code>grep</code> not <code>ssh b.com</code></p>
<p>to change this behavior, you can put this in your .zshrc</p>
<pre><code>bindkey &quot;^P&quot; up-line-or-beginning-search
bindkey &quot;^N&quot; down-line-or-beginning-search
</code></pre>
</article>
<hr/>

<article>
  <a href="https://labs.yulrizka.com/til/unix/extend-letsencrypt-certificate-with-dns-challenge/">
    <h2>
      extend letsencrypt certificate with DNS challenge
    </h2>
  </a>
  <div class="posted_at">
    2019-04-03 ::
    ( 1 minutes reading )
  </div>

  <p>Assuming the domain name is <code>yulrizka.com</code> and the certificate was created with</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ certbot certonly --standalone --preferred-challenges dns -d yulrizka.com
</code></pre></td></tr></table>
</div>
</div><p>To extend this certificate with DNS challenge</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="c1"># certbot -d yulrizka.com --manual --preferred-challenges dns certonly</span>
</code></pre></td></tr></table>
</div>
</div><p>You will be asked to add TXT record of <code>_acme-challenge.yulrizka.com</code>.</p>
<p>After updating that DNS record, wait couple of minutes and proceed.</p>

</article>
<hr/>

<article>
  <a href="https://labs.yulrizka.com/til/unix/rename-tmux-window/">
    <h2>
      rename tmux window
    </h2>
  </a>
  <div class="posted_at">
    2019-01-17 ::
    ( 1 minutes reading )
  </div>

  <pre><code>C-a A
</code></pre><p>That&rsquo;s Control-a A</p>

</article>
<hr/>

<article>
  <a href="https://labs.yulrizka.com/til/net/dnssec/">
    <h2>
      DNSSEC
    </h2>
  </a>
  <div class="posted_at">
    2019-01-13 ::
    ( 1 minutes reading )
  </div>

  <h1 id="dnssec">DNSSEC</h1>
<blockquote>
<p>DNSSEC is a technology that was developed to, among other things, protect against such attacks by digitally &lsquo;signing&rsquo; data so you can be assured it is valid. However, in order to eliminate the vulnerability from the Internet, it must be deployed at each step in the lookup from root zone to final domain name (e.g., <a href="http://www.icann.org">www.icann.org</a>). Signing the root (deploying DNSSEC on the root zone) is a necessary step in this overall processii. Importantly it does not encrypt data. It just attests to the validity of the address of the site you visit.</p>
</blockquote>
<p>It&rsquo;s basically backward compatible addition to the protocol where DNS server can verify the authenticity of the record using asymetric key certificate</p>
<p>There is also as concept of KSK (Key Signing key) a long term key and ZSK (Zone Signing Key) a short term key. They rotate the ZSK using KSK so that it&rsquo;s harder to bruteforce to key</p>

</article>
<hr/>

<article>
  <a href="https://labs.yulrizka.com/til/git/reset-email-multiple-commit/">
    <h2>
      reset email multiple git commit
    </h2>
  </a>
  <div class="posted_at">
    2019-01-13 ::
    ( 1 minutes reading )
  </div>

  <p>I started not to use my real email for git commit. Instead i uses the one that is provided by <a href="https://help.github.com/articles/about-commit-email-addresses/">github</a></p>
<p>After enabling <strong>Block command line pushes that expose my email</strong> on <a href="https://github.com/settings/emails">Block command line pushes that expose my email</a>, it will reject
all email that exposes public email adress.</p>
<p>So in order to rewrite git history and change the author email, I found this <a href="https://help.github.com/articles/changing-author-info/">github help</a></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="cp">#!/bin/sh
</span><span class="cp"></span>
git filter-branch --env-filter <span class="s1">&#39;
</span><span class="s1">OLD_EMAIL=&#34;your-old-email@example.com&#34;
</span><span class="s1">CORRECT_NAME=&#34;Your Correct Name&#34;
</span><span class="s1">CORRECT_EMAIL=&#34;your-correct-email@example.com&#34;
</span><span class="s1">if [ &#34;$GIT_COMMITTER_EMAIL&#34; = &#34;$OLD_EMAIL&#34; ]
</span><span class="s1">then
</span><span class="s1">    export GIT_COMMITTER_NAME=&#34;$CORRECT_NAME&#34;
</span><span class="s1">    export GIT_COMMITTER_EMAIL=&#34;$CORRECT_EMAIL&#34;
</span><span class="s1">fi
</span><span class="s1">if [ &#34;$GIT_AUTHOR_EMAIL&#34; = &#34;$OLD_EMAIL&#34; ]
</span><span class="s1">then
</span><span class="s1">    export GIT_AUTHOR_NAME=&#34;$CORRECT_NAME&#34;
</span><span class="s1">    export GIT_AUTHOR_EMAIL=&#34;$CORRECT_EMAIL&#34;
</span><span class="s1">fi
</span><span class="s1">&#39;</span> --tag-name-filter cat -- --branches --tags
</code></pre></td></tr></table>
</div>
</div><p>Another neat way (after you change your email with git config), you can also do this:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ git rebase -i -p --exec <span class="s1">&#39;git commit --amend --reset-author --no-edit&#39;</span>
</code></pre></td></tr></table>
</div>
</div>
</article>
<hr/>



<ul class="pagination">
  <li class="page-item">
    <a href="/" class="page-link" aria-label="First"><span aria-hidden="true">&laquo;&laquo;</span></a>
  </li>
  <li class="page-item">
    <a href="/" class="page-link" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>
  </li>
  <li class="page-item">
    <a class="page-link" href="/">1</a>
  </li>
  <li class="page-item active">
    <a class="page-link" href="/page/2/">2</a>
  </li>
  <li class="page-item">
    <a class="page-link" href="/page/3/">3</a>
  </li>
  <li class="page-item disabled">
    <span aria-hidden="true">&nbsp;&hellip;&nbsp;</span>
  </li>
  <li class="page-item">
    <a class="page-link" href="/page/8/">8</a>
  </li>
  <li class="page-item">
    <a href="/page/3/" class="page-link" aria-label="Next"><span aria-hidden="true">&raquo;</span></a>
  </li>
  <li class="page-item">
    <a href="/page/8/" class="page-link" aria-label="Last"><span aria-hidden="true">&raquo;&raquo;</span></a>
  </li>
</ul>






        </div>
      </div>
      <div id="sidebar-wrapper" class="span3">
        <div class="sidebar">
          <aside>
          <h2>Archives</h2>
          <h3>English</h3>
          <ul>
          
            <li>
              <a href="https://labs.yulrizka.com/en/my-desktop-with-i3-polybar-conky-rofi/">My Desktop With i3, polybar, conky, and rofi</a>
            </li>
          
            <li>
              <a href="https://labs.yulrizka.com/en/convert-intellij-live-template-to-vscode/">Convert Intellij Live Template to vscode Snippet</a>
            </li>
          
            <li>
              <a href="https://labs.yulrizka.com/en/why-for-range-behave-differently-depending-on-the-size-of-the-element/">Why for-range behaves differently depending on the size of the element (A peek into go compiler optimization)</a>
            </li>
          
            <li>
              <a href="https://labs.yulrizka.com/en/testing-go-1-dot-5-cross-compilation/">Testing go 1.5 cross compilation on raspberry pi</a>
            </li>
          
            <li>
              <a href="https://labs.yulrizka.com/en/osx-push-to-talk-app/">osx-push-to-talk App</a>
            </li>
          
            <li>
              <a href="https://labs.yulrizka.com/en/tracking-origin-of-bugs-with-git-bisect/">Tracking origin of bugs with git bisect</a>
            </li>
          
            <li>
              <a href="https://labs.yulrizka.com/en/stubbing-time-dot-now-in-golang/">Stubbing Time.Now() in golang</a>
            </li>
          
            <li>
              <a href="https://labs.yulrizka.com/en/my-account-just-got-hacked-by-romanian-possibly/">My account just got hacked by Romanian (Possibly)</a>
            </li>
          
            <li>
              <a href="https://labs.yulrizka.com/en/berks-upload-ruby-core-dump/">berks upload core dump</a>
            </li>
          
            <li>
              <a href="https://labs.yulrizka.com/en/safely-sharing-credentials-with-pgp/">Safely sharing credentials with PGP</a>
            </li>
          
          </ul>
          <h3>Indonesia</h3>
          <ul>
          
            <li>
              <a href="https://labs.yulrizka.com/id/ruby-fiber-apaan-sih/">Ruby Fiber apaan sih ?</a>
            </li>
          
            <li>
              <a href="https://labs.yulrizka.com/id/scale-mongodb-dengan-sharding/">Scale MongoDB dengan Sharding</a>
            </li>
          
            <li>
              <a href="https://labs.yulrizka.com/id/telepon-murah-ke-indonesia-dengan-voip/">Telepon murah ke Indonesia dengan voip</a>
            </li>
          
          </ul>

          <h3>Today I Learned</h3>
          <ul>
          
            <li>
              <a href="https://labs.yulrizka.com/til/osx/checksum-a-file-from-a-url/">Checksum a File From a URL</a>
            </li>
          
            <li>
              <a href="https://labs.yulrizka.com/til/git/global-gitignore-file/">Global Gitignore File</a>
            </li>
          
            <li>
              <a href="https://labs.yulrizka.com/til/k8s/view-secret/">View kubernetes secret</a>
            </li>
          
            <li>
              <a href="https://labs.yulrizka.com/til/git/push-only-current-branch/">Push Only Current Branch</a>
            </li>
          
            <li>
              <a href="https://labs.yulrizka.com/til/unix/convert-pdf-to-text-using-ocr/">Convert PDF to Text Using OCR</a>
            </li>
          
            <li>
              <a href="https://labs.yulrizka.com/til/git/checkout-last-branch/">Checkout Last Branch</a>
            </li>
          
            <li>
              <a href="https://labs.yulrizka.com/til/unix/replacing-last-command-and-execute-it/">Replacing Last Command and Execute It</a>
            </li>
          
            <li>
              <a href="https://labs.yulrizka.com/til/unix/open-last-command-in-the-editor-with-fc/">Open Last Command in the Editor With Fc</a>
            </li>
          
            <li>
              <a href="https://labs.yulrizka.com/til/unix/regex-for-validating-password/">Regex for Validating Password</a>
            </li>
          
            <li>
              <a href="https://labs.yulrizka.com/til/unix/sort-file-inline/">Sort file inline</a>
            </li>
          
          </ul>
          </aside>
        </div>
      </div>
    </div>
  </div><header>
  <div id="banner">
    <div id="carousel-banner" class="wrapper carousel">
      <div class="carousel-inner excerpt">
      </div>
    </div> 
  </div>
  
  <div class="navbar navbar-fixed-top relative">  
    <div class="navbar-inner">    
      <div class="fill">
        <div class="container">
          <a href="/"><span class="brand">Labs.Yulrizka.com</span></a>
          <div id="social-icon" class="pull-right">
            <a href="https://twitter.com/#!/yulrizka" target="twitter" rel="popover" data-content="Follow me on twitter" data-original-title="@yulrizka" data-placement="left"><img src="/images/icon/twitter.png" alt="twitter"></a>  
            <a href="https://github.com/yulrizka" target="github" rel="popover" data-content="Github is source code repository that encourage social coding. Fork my projects from github." data-original-title="Fork me on Github" data-placement="left"><img src="/images/icon/github.png" alt="github"></a>  
            <a href="https://feeds.feedburner.com/yulrizka/labs" target="feed" rel="popover" data-content="Suscribe this blog feed on feed burner" data-original-title="RSS feed" data-placement="left"><img src="/images/icon/feed.png" alt="feed"></a>  
          </div>
          <a class="btn btn-navbar" href="#" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <div id="page-view">
            <ul class="nav pull-right">
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown" rel="popover" data-content="Arrange the sidebar position Left / Right / None" 
                data-original-title="Sidebar position" data-placement="left">
                  <i id="icon-panel" class="icon-right-panel icon-white"></i><b class="caret"></b>
                </a>
                <ul class="dropdown-menu">
                  <li><a href="#" id="sidebar-left-link"><i class="icon-left-panel"></i> Left Panel</a></li>
                  <li><a href="#" id="sidebar-none-link"><i class="icon-no-panel"></i> No Panel</a></li>
                  <li><a href="#" id="sidebar-right-link"><i class="icon-right-panel"></i> Right Panel</a></li>
                </ul>
              </li>
            </ul>
          </div>            
          <div class="nav-link nav-collapse">
            <ul class="nav">

              <li class="active banner"><a href="/">Home</a></li>
              <li class=""><a href="/en/">EN</a></li>
              <li class=""><a href="/id/">ID</a></li>
              <li class=""><a href="/til/">Today I Learned</a></li>
              
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</header>
<footer>
  <div class="container-fluid">
    <div class="row-fluid">
      <div id="footer-wrapper" class="span9 <!-- sidebar-right -->">
        <div class="footer">
          <p>
            &copy; Ahmy Yulrizka 2019. Made with <a href="https://gohugo.io/">hugo</a>
            <a href="https://github.com/yulrizka/yulrizka.github.com/tree/source">source</a>
          </p>
        </div>
      </div>
    </div>
 </div>
</footer>
</div> 


<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/javascripts/jquery-1.7.1.min.js"><\/script>')</script>


<script src="https://labs.yulrizka.com/javascript/global.js"></script>

<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-22308054-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>


</body>
</html>
